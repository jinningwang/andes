.. _modelref:

********************************************************************************
Model References
********************************************************************************

.. _ACLine:

================================================================================
ACLine
================================================================================
Common Parameters: u, name

Available models:
Line_

.. _Line:

--------------------------------------------------------------------------------
Line
--------------------------------------------------------------------------------

Group ACLine_

Parameters

+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  Name   |     Symbol     |  Unit  |   Type    |              Description              | Default | Properties |
+=========+================+========+===========+=======================================+=========+============+
|  u      | :math:`u`      | *bool* | NumParam  | connection status                     | 1       |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  name   | :math:`name`   |        | DataParam | device name                           |         |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  bus1   |                |        | IdxParam  | idx of from bus                       |         |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  bus2   |                |        | IdxParam  | idx of to bus                         |         |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  Sn     | :math:`S_n`    |        | NumParam  | Power rating                          | 100     | non_zero   |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  fn     | :math:`f`      |        | NumParam  | rated frequency                       | 60      |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  Vn1    | :math:`V_{n1}` |        | NumParam  | AC voltage rating                     | 110     | non_zero   |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  Vn2    | :math:`V_{n2}` |        | NumParam  | rated voltage of bus2                 | 110     | non_zero   |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  r      | :math:`r`      |        | NumParam  | connection line resistance            | 0       |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  x      | :math:`x`      |        | NumParam  | connection line reactance             | 0.000   |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  b      |                |        | NumParam  | shared shunt susceptance              | 0       |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  g      |                |        | NumParam  | shared shunt conductance              | 0       |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  b1     | :math:`b_1`    |        | NumParam  | from-side susceptance                 | 0       |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  g1     | :math:`g_1`    |        | NumParam  | from-side conductance                 | 0       |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  b2     | :math:`b_2`    |        | NumParam  | to-side susceptance                   | 0       |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  g2     | :math:`g_2`    |        | NumParam  | to-side conductance                   | 0       |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  trans  |                |        | NumParam  | transformer branch flag               | 0       |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  tap    | :math:`t_{ap}` |        | NumParam  | transformer branch tap ratio          | 1       |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  phi    | :math:`\phi`   |        | NumParam  | transformer branch phase shift in rad | 0       |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  owner  |                |        | IdxParam  | owner code                            |         |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  xcoord |                |        | DataParam | x coordinates                         |         |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+
|  ycoord |                |        | DataParam | y coordinates                         |         |            |
+---------+----------------+--------+-----------+---------------------------------------+---------+------------+

Variables

+------+---------------+------+---------------+------------+-------------+
| Name |    Symbol     | Unit | Initial Value | Properties | Description |
+======+===============+======+===============+============+=============+
|  a1  | :math:`a_{1}` |      |               |            |             |
+------+---------------+------+---------------+------------+-------------+
|  a2  | :math:`a_{2}` |      |               |            |             |
+------+---------------+------+---------------+------------+-------------+
|  v1  | :math:`v_{1}` |      |               |            |             |
+------+---------------+------+---------------+------------+-------------+
|  v2  | :math:`v_{2}` |      |               |            |             |
+------+---------------+------+---------------+------------+-------------+

Equations

+------+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
| Name |    Symbol     |                                                                                                     Equation (x'=f or g=0)                                                                                                      |   Type   |
+======+===============+=================================================================================================================================================================================================================================+==========+
|  a1  | :math:`a_{1}` | :math:`u \left(v_{1}^{2} \left(g_{h} + \frac{g_{hk}}{t_{ap}^{2}}\right) - \frac{v_{1} v_{2} \left(- b_{hk} \sin{\left(\phi - a_{1} + a_{2} \right)} + g_{hk} \cos{\left(\phi - a_{1} + a_{2} \right)}\right)}{t_{ap}}\right)`   | ExtAlgeb |
+------+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  a2  | :math:`a_{2}` | :math:`u \left(g_{hk} v_{2}^{2} - \frac{v_{1} v_{2} \left(b_{hk} \sin{\left(\phi - a_{1} + a_{2} \right)} + g_{hk} \cos{\left(\phi - a_{1} + a_{2} \right)}\right)}{t_{ap}}\right)`                                             | ExtAlgeb |
+------+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  v1  | :math:`v_{1}` | :math:`u \left(- v_{1}^{2} \left(b_{h} + \frac{b_{hk}}{t_{ap}^{2}}\right) - \frac{v_{1} v_{2} \left(- b_{hk} \cos{\left(\phi - a_{1} + a_{2} \right)} - g_{hk} \sin{\left(\phi - a_{1} + a_{2} \right)}\right)}{t_{ap}}\right)` | ExtAlgeb |
+------+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  v2  | :math:`v_{2}` | :math:`u \left(- b_{hk} v_{2}^{2} + \frac{v_{1} v_{2} \left(b_{hk} \cos{\left(\phi - a_{1} + a_{2} \right)} - g_{hk} \sin{\left(\phi - a_{1} + a_{2} \right)}\right)}{t_{ap}}\right)`                                           | ExtAlgeb |
+------+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+

Services

+------+----------------+------------------------------------------------+--------------+
| Name |     Symbol     |              Equation or Callback              |     Type     |
+======+================+================================================+==============+
|  gh  | :math:`g_h`    | :math:`0.5 g + g_{1}`                          | ConstService |
+------+----------------+------------------------------------------------+--------------+
|  bh  | :math:`b_h`    | :math:`0.5 b + b_{1}`                          | ConstService |
+------+----------------+------------------------------------------------+--------------+
|  gk  | :math:`g_k`    | :math:`0.5 g + g_{2}`                          | ConstService |
+------+----------------+------------------------------------------------+--------------+
|  bk  | :math:`b_k`    | :math:`0.5 b + b_{2}`                          | ConstService |
+------+----------------+------------------------------------------------+--------------+
|  yh  | :math:`y_h`    | :math:`u \left(i b_{h} + g_{h}\right)`         | ConstService |
+------+----------------+------------------------------------------------+--------------+
|  yk  | :math:`y_k`    | :math:`u \left(i b_{k} + g_{k}\right)`         | ConstService |
+------+----------------+------------------------------------------------+--------------+
|  yhk | :math:`y_{hk}` | :math:`\frac{u}{r + i x}`                      | ConstService |
+------+----------------+------------------------------------------------+--------------+
|  ghk | :math:`g_{hk}` | :math:`\operatorname{re}{\left(y_{hk}\right)}` | ConstService |
+------+----------------+------------------------------------------------+--------------+
|  bhk | :math:`b_{hk}` | :math:`\operatorname{im}{\left(y_{hk}\right)}` | ConstService |
+------+----------------+------------------------------------------------+--------------+


.. _ACTopology:

================================================================================
ACTopology
================================================================================
Common Parameters: u, name

Common Variables: a, v

Available models:
Bus_

.. _Bus:

--------------------------------------------------------------------------------
Bus
--------------------------------------------------------------------------------

Group ACTopology_


    AC Bus model developed using the symbolic framework
    Parameters

+---------+------------------+--------+-----------+-----------------------------+---------+------------+
|  Name   |      Symbol      |  Unit  |   Type    |         Description         | Default | Properties |
+=========+==================+========+===========+=============================+=========+============+
|  u      | :math:`u`        | *bool* | NumParam  | connection status           | 1       |            |
+---------+------------------+--------+-----------+-----------------------------+---------+------------+
|  name   | :math:`name`     |        | DataParam | device name                 |         |            |
+---------+------------------+--------+-----------+-----------------------------+---------+------------+
|  Vn     | :math:`V_n`      | *kV*   | NumParam  | AC voltage rating           | 110     | non_zero   |
+---------+------------------+--------+-----------+-----------------------------+---------+------------+
|  vmax   | :math:`V_{max}`  | *p.u.* | NumParam  | Voltage upper limit         | 1.100   |            |
+---------+------------------+--------+-----------+-----------------------------+---------+------------+
|  vmin   | :math:`V_{min}`  | *p.u.* | NumParam  | Voltage lower limit         | 0.900   |            |
+---------+------------------+--------+-----------+-----------------------------+---------+------------+
|  v0     | :math:`V_0`      | *p.u.* | NumParam  | initial voltage magnitude   | 1       | non_zero   |
+---------+------------------+--------+-----------+-----------------------------+---------+------------+
|  a0     | :math:`\theta_0` | *rad*  | NumParam  | initial voltage phase angle | 0       |            |
+---------+------------------+--------+-----------+-----------------------------+---------+------------+
|  xcoord |                  |        | DataParam | x coordinate (longitude)    | 0       |            |
+---------+------------------+--------+-----------+-----------------------------+---------+------------+
|  ycoord |                  |        | DataParam | y coordinate (latitude)     | 0       |            |
+---------+------------------+--------+-----------+-----------------------------+---------+------------+
|  area   |                  |        | IdxParam  | Area code                   |         |            |
+---------+------------------+--------+-----------+-----------------------------+---------+------------+
|  zone   |                  |        | IdxParam  | Zone code                   |         |            |
+---------+------------------+--------+-----------+-----------------------------+---------+------------+
|  owner  |                  |        | IdxParam  | Owner code                  |         |            |
+---------+------------------+--------+-----------+-----------------------------+---------+------------+

Variables

+------+----------------+--------+------------------+------------+-------------------+
| Name |     Symbol     |  Unit  |  Initial Value   | Properties |    Description    |
+======+================+========+==================+============+===================+
|  a   | :math:`\theta` | *rad*  | :math:`\theta_0` | v_str      | voltage angle     |
+------+----------------+--------+------------------+------------+-------------------+
|  v   | :math:`V`      | *p.u.* | :math:`V_{0}`    | v_str      | voltage magnitude |
+------+----------------+--------+------------------+------------+-------------------+

Equations

+------+----------------+------------------------+-------+
| Name |     Symbol     | Equation (x'=f or g=0) | Type  |
+======+================+========================+=======+
|  a   | :math:`\theta` | :math:`0`              | Algeb |
+------+----------------+------------------------+-------+
|  v   | :math:`V`      | :math:`0`              | Algeb |
+------+----------------+------------------------+-------+


.. _StaticGen:

================================================================================
StaticGen
================================================================================
Static generator group for power flow calculation

Common Parameters: u, name, p0, q0

Common Variables: p, q, a, v

Available models:
PV_,
Slack_

.. _PV:

--------------------------------------------------------------------------------
PV
--------------------------------------------------------------------------------

Group StaticGen_

Parameters

+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
| Name  |     Symbol      |  Unit  |   Type    |               Description               | Default | Properties |
+=======+=================+========+===========+=========================================+=========+============+
|  u    | :math:`u`       | *bool* | NumParam  | connection status                       | 1       |            |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  name | :math:`name`    |        | DataParam | device name                             |         |            |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  Sn   | :math:`S_n`     |        | NumParam  | Power rating                            | 100     | non_zero   |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  Vn   | :math:`V_n`     |        | NumParam  | AC voltage rating                       | 110     | non_zero   |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  bus  |                 |        | IdxParam  | the idx of the installed bus            |         |            |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  busr |                 |        | IdxParam  | the idx of remotely controlled bus      |         |            |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  p0   | :math:`p_0`     | *p.u.* | NumParam  | active power set point in system base   | 0       |            |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  q0   | :math:`q_0`     | *p.u.* | NumParam  | reactive power set point in system base | 0       |            |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  pmax | :math:`p_{max}` | *p.u.* | NumParam  | maximum active power in system base     | 999     |            |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  pmin | :math:`p_{min}` | *p.u.* | NumParam  | minimum active power in system base     | -1      |            |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  qmax | :math:`q_{max}` | *p.u.* | NumParam  | maximim reactive power in system base   | 999     |            |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  qmin | :math:`q_{min}` | *p.u.* | NumParam  | minimum reactive power in system base   | -999    |            |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  v0   | :math:`v_0`     |        | NumParam  | voltage set point                       | 1       |            |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  vmax | :math:`v_{max}` |        | NumParam  | maximum voltage voltage                 | 1.400   |            |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  vmin | :math:`v_{min}` |        | NumParam  | minimum allowed voltage                 | 0.600   |            |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  ra   | :math:`r_a`     |        | NumParam  | armature resistance                     | 0.010   |            |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+
|  xs   | :math:`x_s`     |        | NumParam  | armature reactance                      | 0.300   |            |
+-------+-----------------+--------+-----------+-----------------------------------------+---------+------------+

Variables

+------+----------------+--------+---------------+----------------+----------------------------------+
| Name |     Symbol     |  Unit  | Initial Value |   Properties   |           Description            |
+======+================+========+===============+================+==================================+
|  p   | :math:`p`      | *p.u.* | :math:`p_{0}` | v_str          | actual active power generation   |
+------+----------------+--------+---------------+----------------+----------------------------------+
|  q   | :math:`q`      | *p.u.* | :math:`q_{0}` | v_str          | actual reactive power generation |
+------+----------------+--------+---------------+----------------+----------------------------------+
|  a   | :math:`\theta` |        |               |                |                                  |
+------+----------------+--------+---------------+----------------+----------------------------------+
|  v   | :math:`V`      |        | :math:`v_{0}` | v_str,v_setter |                                  |
+------+----------------+--------+---------------+----------------+----------------------------------+

Equations

+------+----------------+--------------------------------------------------------------------------------------------------------------------------------------------------+----------+
| Name |     Symbol     |                                                              Equation (x'=f or g=0)                                                              |   Type   |
+======+================+==================================================================================================================================================+==========+
|  p   | :math:`p`      | :math:`u \left(- p + p_{0}\right)`                                                                                                               | Algeb    |
+------+----------------+--------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  q   | :math:`q`      | :math:`u \left(z_{i}^{qlim} \left(- V + v_{0}\right) + z_{l}^{qlim} \left(- q + q_{min}\right) + z_{u}^{qlim} \left(- q + q_{max}\right)\right)` | Algeb    |
+------+----------------+--------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  a   | :math:`\theta` | :math:`- p u`                                                                                                                                    | ExtAlgeb |
+------+----------------+--------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  v   | :math:`V`      | :math:`- q u`                                                                                                                                    | ExtAlgeb |
+------+----------------+--------------------------------------------------------------------------------------------------------------------------------------------------+----------+

Discrete Components

+-------+---------------+--------+-------------+-------------+
| Name  |     Type      | Output | Upper Bound | Lower Bound |
+=======+===============+========+=============+=============+
|  qlim | SortedLimiter |        | qmax        | qmin        |
+-------+---------------+--------+-------------+-------------+


.. _Slack:

--------------------------------------------------------------------------------
Slack
--------------------------------------------------------------------------------

Group StaticGen_

Parameters

+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
| Name  |      Symbol      |  Unit  |   Type    |               Description               | Default | Properties |
+=======+==================+========+===========+=========================================+=========+============+
|  u    | :math:`u`        | *bool* | NumParam  | connection status                       | 1       |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  name | :math:`name`     |        | DataParam | device name                             |         |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  Sn   | :math:`S_n`      |        | NumParam  | Power rating                            | 100     | non_zero   |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  Vn   | :math:`V_n`      |        | NumParam  | AC voltage rating                       | 110     | non_zero   |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  bus  |                  |        | IdxParam  | the idx of the installed bus            |         |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  busr |                  |        | IdxParam  | the idx of remotely controlled bus      |         |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  p0   | :math:`p_0`      | *p.u.* | NumParam  | active power set point in system base   | 0       |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  q0   | :math:`q_0`      | *p.u.* | NumParam  | reactive power set point in system base | 0       |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  pmax | :math:`p_{max}`  | *p.u.* | NumParam  | maximum active power in system base     | 999     |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  pmin | :math:`p_{min}`  | *p.u.* | NumParam  | minimum active power in system base     | -1      |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  qmax | :math:`q_{max}`  | *p.u.* | NumParam  | maximim reactive power in system base   | 999     |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  qmin | :math:`q_{min}`  | *p.u.* | NumParam  | minimum reactive power in system base   | -999    |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  v0   | :math:`v_0`      |        | NumParam  | voltage set point                       | 1       |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  vmax | :math:`v_{max}`  |        | NumParam  | maximum voltage voltage                 | 1.400   |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  vmin | :math:`v_{min}`  |        | NumParam  | minimum allowed voltage                 | 0.600   |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  ra   | :math:`r_a`      |        | NumParam  | armature resistance                     | 0.010   |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  xs   | :math:`x_s`      |        | NumParam  | armature reactance                      | 0.300   |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+
|  a0   | :math:`\theta_0` |        | NumParam  | reference angle set point               | 0       |            |
+-------+------------------+--------+-----------+-----------------------------------------+---------+------------+

Variables

+------+----------------+--------+------------------+----------------+----------------------------------+
| Name |     Symbol     |  Unit  |  Initial Value   |   Properties   |           Description            |
+======+================+========+==================+================+==================================+
|  p   | :math:`p`      | *p.u.* | :math:`p_{0}`    | v_str          | actual active power generation   |
+------+----------------+--------+------------------+----------------+----------------------------------+
|  q   | :math:`q`      | *p.u.* | :math:`q_{0}`    | v_str          | actual reactive power generation |
+------+----------------+--------+------------------+----------------+----------------------------------+
|  a   | :math:`\theta` |        | :math:`\theta_0` | v_str,v_setter |                                  |
+------+----------------+--------+------------------+----------------+----------------------------------+
|  v   | :math:`V`      |        | :math:`v_{0}`    | v_str,v_setter |                                  |
+------+----------------+--------+------------------+----------------+----------------------------------+

Equations

+------+----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
| Name |     Symbol     |                                                                  Equation (x'=f or g=0)                                                                  |   Type   |
+======+================+==========================================================================================================================================================+==========+
|  p   | :math:`p`      | :math:`u \left(z_{i}^{plim} \left(- \theta + \theta_0\right) + z_{l}^{plim} \left(- p + p_{min}\right) + z_{u}^{plim} \left(- p + p_{max}\right)\right)` | Algeb    |
+------+----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  q   | :math:`q`      | :math:`u \left(z_{i}^{qlim} \left(- V + v_{0}\right) + z_{l}^{qlim} \left(- q + q_{min}\right) + z_{u}^{qlim} \left(- q + q_{max}\right)\right)`         | Algeb    |
+------+----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  a   | :math:`\theta` | :math:`- p u`                                                                                                                                            | ExtAlgeb |
+------+----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  v   | :math:`V`      | :math:`- q u`                                                                                                                                            | ExtAlgeb |
+------+----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------+----------+

Discrete Components

+-------+---------------+--------+-------------+-------------+
| Name  |     Type      | Output | Upper Bound | Lower Bound |
+=======+===============+========+=============+=============+
|  qlim | SortedLimiter |        | qmax        | qmin        |
+-------+---------------+--------+-------------+-------------+
|  plim | SortedLimiter |        | pmax        | pmin        |
+-------+---------------+--------+-------------+-------------+


.. _StaticLoad:

================================================================================
StaticLoad
================================================================================
Static load group

Common Parameters: u, name

Available models:
PQ_

.. _PQ:

--------------------------------------------------------------------------------
PQ
--------------------------------------------------------------------------------

Group StaticLoad_

Parameters

+--------+-----------------+--------+-----------+-------------------------------------------+---------+------------+
|  Name  |     Symbol      |  Unit  |   Type    |                Description                | Default | Properties |
+========+=================+========+===========+===========================================+=========+============+
|  u     | :math:`u`       | *bool* | NumParam  | connection status                         | 1       |            |
+--------+-----------------+--------+-----------+-------------------------------------------+---------+------------+
|  name  | :math:`name`    |        | DataParam | device name                               |         |            |
+--------+-----------------+--------+-----------+-------------------------------------------+---------+------------+
|  bus   |                 |        | IdxParam  | linked bus idx                            |         | mandatory  |
+--------+-----------------+--------+-----------+-------------------------------------------+---------+------------+
|  Vn    | :math:`V_n`     | *kV*   | NumParam  | AC voltage rating                         | 110     | non_zero   |
+--------+-----------------+--------+-----------+-------------------------------------------+---------+------------+
|  p0    | :math:`p_0`     | *p.u.* | NumParam  | active power load in system base          | 0       |            |
+--------+-----------------+--------+-----------+-------------------------------------------+---------+------------+
|  q0    | :math:`q_0`     | *p.u.* | NumParam  | reactive power load in system base        | 0       |            |
+--------+-----------------+--------+-----------+-------------------------------------------+---------+------------+
|  vmax  | :math:`v_{max}` |        | NumParam  | max voltage before switching to impedance | 1.100   |            |
+--------+-----------------+--------+-----------+-------------------------------------------+---------+------------+
|  vmin  | :math:`v_{min}` |        | NumParam  | min voltage before switching to impedance | 0.900   |            |
+--------+-----------------+--------+-----------+-------------------------------------------+---------+------------+
|  owner |                 |        | IdxParam  | owner idx                                 |         |            |
+--------+-----------------+--------+-----------+-------------------------------------------+---------+------------+

Variables

+------+----------------+------+---------------+------------+-------------+
| Name |     Symbol     | Unit | Initial Value | Properties | Description |
+======+================+======+===============+============+=============+
|  a   | :math:`\theta` |      |               |            |             |
+------+----------------+------+---------------+------------+-------------+
|  v   | :math:`V`      |      |               |            |             |
+------+----------------+------+---------------+------------+-------------+

Equations

+------+----------------+-----------------------------------------------------------------------------------------------------------------------------------------+----------+
| Name |     Symbol     |                                                         Equation (x'=f or g=0)                                                          |   Type   |
+======+================+=========================================================================================================================================+==========+
|  a   | :math:`\theta` | :math:`u \left(\frac{V^{2} p_{0} z_{l}^{vcmp}}{v_{min}^{2}} + \frac{V^{2} p_{0} z_{u}^{vcmp}}{v_{max}^{2}} + p_{0} z_{i}^{vcmp}\right)` | ExtAlgeb |
+------+----------------+-----------------------------------------------------------------------------------------------------------------------------------------+----------+
|  v   | :math:`V`      | :math:`u \left(\frac{V^{2} q_{0} z_{l}^{vcmp}}{v_{min}^{2}} + \frac{V^{2} q_{0} z_{u}^{vcmp}}{v_{max}^{2}} + q_{0} z_{i}^{vcmp}\right)` | ExtAlgeb |
+------+----------------+-----------------------------------------------------------------------------------------------------------------------------------------+----------+

Discrete Components

+-------+---------+--------+-------------+-------------+
| Name  |  Type   | Output | Upper Bound | Lower Bound |
+=======+=========+========+=============+=============+
|  vcmp | Limiter |        | vmax        | vmin        |
+-------+---------+--------+-------------+-------------+


.. _StaticShunt:

================================================================================
StaticShunt
================================================================================
Static shunt compensator group

Common Parameters: u, name

Available models:
Shunt_

.. _Shunt:

--------------------------------------------------------------------------------
Shunt
--------------------------------------------------------------------------------

Group StaticShunt_

Parameters

+-------+--------------+--------+-----------+-------------------------------------------+---------+------------+
| Name  |    Symbol    |  Unit  |   Type    |                Description                | Default | Properties |
+=======+==============+========+===========+===========================================+=========+============+
|  u    | :math:`u`    | *bool* | NumParam  | connection status                         | 1       |            |
+-------+--------------+--------+-----------+-------------------------------------------+---------+------------+
|  name | :math:`name` |        | DataParam | device name                               |         |            |
+-------+--------------+--------+-----------+-------------------------------------------+---------+------------+
|  bus  |              |        | IdxParam  | idx of connected bus                      |         |            |
+-------+--------------+--------+-----------+-------------------------------------------+---------+------------+
|  Sn   | :math:`S_n`  |        | NumParam  | Power rating                              | 100     | non_zero   |
+-------+--------------+--------+-----------+-------------------------------------------+---------+------------+
|  Vn   | :math:`V_n`  |        | NumParam  | AC voltage rating                         | 110     | non_zero   |
+-------+--------------+--------+-----------+-------------------------------------------+---------+------------+
|  g    | :math:`g`    |        | NumParam  | shunt conductance (real part)             | 0       | y          |
+-------+--------------+--------+-----------+-------------------------------------------+---------+------------+
|  b    | :math:`b`    |        | NumParam  | shunt susceptance (positive as capatance) | 0       | y          |
+-------+--------------+--------+-----------+-------------------------------------------+---------+------------+
|  fn   | :math:`f`    |        | NumParam  | rated frequency                           | 60      |            |
+-------+--------------+--------+-----------+-------------------------------------------+---------+------------+

Variables

+------+----------------+------+---------------+------------+-------------+
| Name |     Symbol     | Unit | Initial Value | Properties | Description |
+======+================+======+===============+============+=============+
|  a   | :math:`\theta` |      |               |            |             |
+------+----------------+------+---------------+------------+-------------+
|  v   | :math:`V`      |      |               |            |             |
+------+----------------+------+---------------+------------+-------------+

Equations

+------+----------------+------------------------+----------+
| Name |     Symbol     | Equation (x'=f or g=0) |   Type   |
+======+================+========================+==========+
|  a   | :math:`\theta` | :math:`V^{2} g`        | ExtAlgeb |
+------+----------------+------------------------+----------+
|  v   | :math:`V`      | :math:`- V^{2} b`      | ExtAlgeb |
+------+----------------+------------------------+----------+


.. _SynGen:

================================================================================
SynGen
================================================================================
Synchronous generator group

Common Parameters: u, name, Sn, Vn

Common Variables: omega, delta, pm

Available models:
GENCLS_,
GENROU_

.. _GENCLS:

--------------------------------------------------------------------------------
GENCLS
--------------------------------------------------------------------------------

Group SynGen_

Parameters

+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
| Name  |     Symbol      |  Unit  |   Type    |         Description          | Default |   Properties   |
+=======+=================+========+===========+==============================+=========+================+
|  u    | :math:`u`       | *bool* | NumParam  | connection status            | 1       |                |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  name | :math:`name`    |        | DataParam | device name                  |         |                |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  bus  |                 |        | IdxParam  | interface bus id             |         | mandatory      |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  gen  |                 |        | IdxParam  | static generator index       |         | mandatory      |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  coi  |                 |        | IdxParam  | center of inertia index      |         |                |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  Sn   | :math:`S_n`     |        | NumParam  | Power rating                 | 100     |                |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  Vn   | :math:`V_n`     |        | NumParam  | AC voltage rating            | 110     |                |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  fn   | :math:`f`       |        | NumParam  | rated frequency              | 60      |                |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  D    | :math:`D`       |        | NumParam  | Damping coefficient          | 0       | power          |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  M    | :math:`M`       |        | NumParam  | machine start up time (2H)   | 6       | non_zero,power |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  ra   | :math:`r_a`     |        | NumParam  | armature resistance          | 0       | z              |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  xl   | :math:`x_l`     |        | NumParam  | leakage reactance            | 0       | z              |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  xq   | :math:`x_q`     |        | NumParam  | q-axis synchronous reactance | 1.700   | z              |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  kp   | :math:`k_p`     |        | NumParam  | active power feedback gain   | 0       |                |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  kw   | :math:`k_w`     |        | NumParam  | speed feedback gain          | 0       |                |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  S10  | :math:`S_{1.0}` |        | NumParam  | first saturation factor      | 1       |                |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+
|  S12  | :math:`S_{1.2}` |        | NumParam  | second saturation factor     | 1       |                |
+-------+-----------------+--------+-----------+------------------------------+---------+----------------+

Variables

+--------+----------------+------+-----------------------------------+----------------+-------------------------+
|  Name  |     Symbol     | Unit |           Initial Value           |   Properties   |       Description       |
+========+================+======+===================================+================+=========================+
|  delta | :math:`\delta` |      | :math:`\delta_0`                  | v_str          |                         |
+--------+----------------+------+-----------------------------------+----------------+-------------------------+
|  omega | :math:`\omega` |      | :math:`u`                         | v_str          |                         |
+--------+----------------+------+-----------------------------------+----------------+-------------------------+
|  Id    | :math:`I_{d}`  |      | :math:`I_{d0}`                    | v_str          |                         |
+--------+----------------+------+-----------------------------------+----------------+-------------------------+
|  Iq    | :math:`I_{q}`  |      | :math:`I_{q0}`                    | v_str          |                         |
+--------+----------------+------+-----------------------------------+----------------+-------------------------+
|  vd    | :math:`V_{d}`  |      | :math:`V_{d0}`                    | v_str          |                         |
+--------+----------------+------+-----------------------------------+----------------+-------------------------+
|  vq    | :math:`V_{q}`  |      | :math:`V_{q0}`                    | v_str          |                         |
+--------+----------------+------+-----------------------------------+----------------+-------------------------+
|  pm    | :math:`P_{m}`  |      | :math:`P_{m0}`                    | v_str,v_setter |                         |
+--------+----------------+------+-----------------------------------+----------------+-------------------------+
|  pe    | :math:`P_{e}`  |      | :math:`P_{0}`                     | v_str,v_setter |                         |
+--------+----------------+------+-----------------------------------+----------------+-------------------------+
|  vf    | :math:`v_{f}`  |      | :math:`v_{f0}`                    | v_str,v_setter |                         |
+--------+----------------+------+-----------------------------------+----------------+-------------------------+
|  psid  | :math:`\psi_d` |      | :math:`I_{q0} r_{a} u + V_{q0}`   | v_str          |                         |
+--------+----------------+------+-----------------------------------+----------------+-------------------------+
|  psiq  | :math:`\psi_q` |      | :math:`- I_{d0} r_{a} u - V_{d0}` | v_str          |                         |
+--------+----------------+------+-----------------------------------+----------------+-------------------------+
|  a     | :math:`\theta` |      |                                   |                | Bus voltage phase angle |
+--------+----------------+------+-----------------------------------+----------------+-------------------------+
|  v     | :math:`V`      |      |                                   |                | Bus voltage magnitude   |
+--------+----------------+------+-----------------------------------+----------------+-------------------------+

Equations

+--------+----------------+------------------------------------------------------------------------------+----------+
|  Name  |     Symbol     |                            Equation (x'=f or g=0)                            |   Type   |
+========+================+==============================================================================+==========+
|  delta | :math:`\delta` | :math:`f u \left(\omega - 1\right)`                                          | State    |
+--------+----------------+------------------------------------------------------------------------------+----------+
|  omega | :math:`\omega` | :math:`\frac{u \left(- D \left(\omega - 1\right) - P_{e} + P_{m}\right)}{M}` | State    |
+--------+----------------+------------------------------------------------------------------------------+----------+
|  Id    | :math:`I_{d}`  | :math:`I_{d} x_{q} + \psi_d - v_{f}`                                         | Algeb    |
+--------+----------------+------------------------------------------------------------------------------+----------+
|  Iq    | :math:`I_{q}`  | :math:`I_{q} x_{q} + \psi_q`                                                 | Algeb    |
+--------+----------------+------------------------------------------------------------------------------+----------+
|  vd    | :math:`V_{d}`  | :math:`V \sin{\left(\delta - \theta \right)} - V_{d}`                        | Algeb    |
+--------+----------------+------------------------------------------------------------------------------+----------+
|  vq    | :math:`V_{q}`  | :math:`V \cos{\left(\delta - \theta \right)} - V_{q}`                        | Algeb    |
+--------+----------------+------------------------------------------------------------------------------+----------+
|  pm    | :math:`P_{m}`  | :math:`- P_{m} + P_{m0}`                                                     | Algeb    |
+--------+----------------+------------------------------------------------------------------------------+----------+
|  pe    | :math:`P_{e}`  | :math:`- I_{d} \psi_q + I_{q} \psi_d - P_{e}`                                | Algeb    |
+--------+----------------+------------------------------------------------------------------------------+----------+
|  vf    | :math:`v_{f}`  | :math:`- v_{f} + v_{f0}`                                                     | Algeb    |
+--------+----------------+------------------------------------------------------------------------------+----------+
|  psid  | :math:`\psi_d` | :math:`- \psi_d + u \left(I_{q} r_{a} + V_{q}\right)`                        | Algeb    |
+--------+----------------+------------------------------------------------------------------------------+----------+
|  psiq  | :math:`\psi_q` | :math:`\psi_q + u \left(I_{d} r_{a} + V_{d}\right)`                          | Algeb    |
+--------+----------------+------------------------------------------------------------------------------+----------+
|  a     | :math:`\theta` | :math:`- u \left(I_{d} V_{d} + I_{q} V_{q}\right)`                           | ExtAlgeb |
+--------+----------------+------------------------------------------------------------------------------+----------+
|  v     | :math:`V`      | :math:`- u \left(I_{d} V_{q} - I_{q} V_{d}\right)`                           | ExtAlgeb |
+--------+----------------+------------------------------------------------------------------------------+----------+

Services

+----------+------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|   Name   |      Symbol      |                                             Equation or Callback                                             |     Type     |
+==========+==================+==============================================================================================================+==============+
|  _V      | :math:`V_c`      | :math:`V e^{i \theta}`                                                                                       | ConstService |
+----------+------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  _S      | :math:`S`        | :math:`P_{0} - i Q_{0}`                                                                                      | ConstService |
+----------+------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  _I      | :math:`I_c`      | :math:`\frac{S}{\operatorname{conj}{\left(V_{c} \right)}}`                                                   | ConstService |
+----------+------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  _E      | :math:`E`        | :math:`I_{c} \left(r_{a} + i x_{q}\right) + V_{c}`                                                           | ConstService |
+----------+------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  _deltac | :math:`\delta_c` | :math:`\log{\left(\frac{E}{\operatorname{abs}{\left(E \right)}} \right)}`                                    | ConstService |
+----------+------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  delta0  | :math:`\delta_0` | :math:`u \operatorname{im}{\left(\delta_c\right)}`                                                           | ConstService |
+----------+------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  vdq     | :math:`V_{dq}`   | :math:`V_{c} u e^{- \delta_c + 0.5 i \pi}`                                                                   | ConstService |
+----------+------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  Idq     | :math:`I_{dq}`   | :math:`I_{c} u e^{- \delta_c + 0.5 i \pi}`                                                                   | ConstService |
+----------+------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  Id0     | :math:`I_{d0}`   | :math:`\operatorname{re}{\left(I_{dq}\right)}`                                                               | ConstService |
+----------+------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  Iq0     | :math:`I_{q0}`   | :math:`\operatorname{im}{\left(I_{dq}\right)}`                                                               | ConstService |
+----------+------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  vd0     | :math:`V_{d0}`   | :math:`\operatorname{re}{\left(V_{dq}\right)}`                                                               | ConstService |
+----------+------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  vq0     | :math:`V_{q0}`   | :math:`\operatorname{im}{\left(V_{dq}\right)}`                                                               | ConstService |
+----------+------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  pm0     | :math:`P_{m0}`   | :math:`u \left(I_{d0} \left(I_{d0} r_{a} + V_{d0}\right) + I_{q0} \left(I_{q0} r_{a} + V_{q0}\right)\right)` | ConstService |
+----------+------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  vf0     | :math:`v_{f0}`   | :math:`I_{d0} x_{q} + I_{q0} r_{a} + V_{q0}`                                                                 | ConstService |
+----------+------------------+--------------------------------------------------------------------------------------------------------------+--------------+


.. _GENROU:

--------------------------------------------------------------------------------
GENROU
--------------------------------------------------------------------------------

Group SynGen_

Parameters

+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
| Name  |      Symbol      |  Unit  |   Type    |               Description               | Default |   Properties   |
+=======+==================+========+===========+=========================================+=========+================+
|  u    | :math:`u`        | *bool* | NumParam  | connection status                       | 1       |                |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  name | :math:`name`     |        | DataParam | device name                             |         |                |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  bus  |                  |        | IdxParam  | interface bus id                        |         | mandatory      |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  gen  |                  |        | IdxParam  | static generator index                  |         | mandatory      |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  coi  |                  |        | IdxParam  | center of inertia index                 |         |                |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  Sn   | :math:`S_n`      |        | NumParam  | Power rating                            | 100     |                |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  Vn   | :math:`V_n`      |        | NumParam  | AC voltage rating                       | 110     |                |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  fn   | :math:`f`        |        | NumParam  | rated frequency                         | 60      |                |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  D    | :math:`D`        |        | NumParam  | Damping coefficient                     | 0       | power          |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  M    | :math:`M`        |        | NumParam  | machine start up time (2H)              | 6       | non_zero,power |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  ra   | :math:`r_a`      |        | NumParam  | armature resistance                     | 0       | z              |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  xl   | :math:`x_l`      |        | NumParam  | leakage reactance                       | 0       | z              |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  xq   | :math:`x_q`      |        | NumParam  | q-axis synchronous reactance            | 1.700   | z              |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  kp   | :math:`k_p`      |        | NumParam  | active power feedback gain              | 0       |                |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  kw   | :math:`k_w`      |        | NumParam  | speed feedback gain                     | 0       |                |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  S10  | :math:`S_{1.0}`  |        | NumParam  | first saturation factor                 | 1       |                |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  S12  | :math:`S_{1.2}`  |        | NumParam  | second saturation factor                | 1       |                |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  xd   | :math:`x_d`      |        | NumParam  | d-axis synchronous reactance            | 1.900   | z              |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  xd1  | :math:`x'_d`     |        | NumParam  | d-axis transient reactance              | 0.302   | z              |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  xd2  | :math:`x''_d`    |        | NumParam  | d-axis sub-transient reactance          | 0.204   | z              |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  xq1  | :math:`x'_q`     |        | NumParam  | q-axis transient reactance              | 0.500   | z              |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  xq2  | :math:`x''_q`    |        | NumParam  | q-axis sub-transient reactance          | 0.300   | z              |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  Td10 | :math:`T'_{d0}`  |        | NumParam  | d-axis transient time constant          | 8       |                |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  Td20 | :math:`T''_{d0}` |        | NumParam  | d-axis sub-transient time constant      | 0.040   |                |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  Tq10 | :math:`T'_{q0}`  |        | NumParam  | q-axis transient time constant          | 0.800   |                |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  Tq20 | :math:`T''_{q0}` |        | NumParam  | q-axis sub-transient time constant      | 0.020   |                |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+
|  Taa  | :math:`T_{aa}`   |        | NumParam  | d-axis additional leakage time constant | 0       |                |
+-------+------------------+--------+-----------+-----------------------------------------+---------+----------------+

Variables

+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  Name  |      Symbol      | Unit |           Initial Value           |   Properties   |       Description       |
+========+==================+======+===================================+================+=========================+
|  delta | :math:`\delta`   |      | :math:`\delta_0`                  | v_str          |                         |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  omega | :math:`\omega`   |      | :math:`u`                         | v_str          |                         |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  e1q   | :math:`e'_{q}`   |      |                                   |                |                         |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  e1d   | :math:`e'_{d}`   |      |                                   |                |                         |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  psi2d | :math:`\psi''_d` |      |                                   |                |                         |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  psi2q | :math:`\psi''_q` |      |                                   |                |                         |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  Id    | :math:`I_{d}`    |      | :math:`I_{d0}`                    | v_str          |                         |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  Iq    | :math:`I_{q}`    |      | :math:`I_{q0}`                    | v_str          |                         |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  vd    | :math:`V_{d}`    |      | :math:`V_{d0}`                    | v_str          |                         |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  vq    | :math:`V_{q}`    |      | :math:`V_{q0}`                    | v_str          |                         |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  pm    | :math:`P_{m}`    |      | :math:`P_{m0}`                    | v_str,v_setter |                         |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  pe    | :math:`P_{e}`    |      | :math:`P_{0}`                     | v_str,v_setter |                         |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  vf    | :math:`v_{f}`    |      | :math:`v_{f0}`                    | v_str,v_setter |                         |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  psid  | :math:`\psi_d`   |      | :math:`I_{q0} r_{a} u + V_{q0}`   | v_str          |                         |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  psiq  | :math:`\psi_q`   |      | :math:`- I_{d0} r_{a} u - V_{d0}` | v_str          |                         |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  a     | :math:`\theta`   |      |                                   |                | Bus voltage phase angle |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+
|  v     | :math:`V`        |      |                                   |                | Bus voltage magnitude   |
+--------+------------------+------+-----------------------------------+----------------+-------------------------+

Equations

+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  Name  |      Symbol      |                                                                             Equation (x'=f or g=0)                                                                             |   Type   |
+========+==================+================================================================================================================================================================================+==========+
|  delta | :math:`\delta`   | :math:`f u \left(\omega - 1\right)`                                                                                                                                            | State    |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  omega | :math:`\omega`   | :math:`\frac{u \left(- D \left(\omega - 1\right) - P_{e} + P_{m}\right)}{M}`                                                                                                   | State    |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  e1q   | :math:`e'_{q}`   | :math:`\frac{- e'_{q} + v_{f} - \left(- x'_{d} + x_{d}\right) \left(- I_{d} \left(1 - \gamma_{d1}\right) + I_{d} - \gamma_{d2} \psi''_d + \gamma_{d2} e'_{q}\right)}{T'_{d0}}` | State    |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  e1d   | :math:`e'_{d}`   | :math:`\frac{- e'_{d} + \left(- x'_{q} + x_{q}\right) \left(- I_{q} \left(1 - \gamma_{q1}\right) + I_{q} - \gamma_{d2} e'_{d} - \gamma_{q2} \psi''_q\right)}{T'_{q0}}`         | State    |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  psi2d | :math:`\psi''_d` | :math:`\frac{- I_{d} \left(x'_{d} - x_{l}\right) - \psi''_d + e'_{q}}{T''_{d0}}`                                                                                               | State    |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  psi2q | :math:`\psi''_q` | :math:`\frac{- I_{q} \left(x'_{q} - x_{l}\right) - \psi''_q - e2d}{T''_{q0}}`                                                                                                  | State    |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  Id    | :math:`I_{d}`    | :math:`I_{d} x''_{d} - \gamma_{d1} e'_{q} - \psi''_d \left(1 - \gamma_{d1}\right) + \psi_d`                                                                                    | Algeb    |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  Iq    | :math:`I_{q}`    | :math:`I_{q} x''_{q} + \gamma_{q1} e'_{d} - \psi''_q \left(1 - \gamma_{q1}\right) + \psi_q`                                                                                    | Algeb    |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  vd    | :math:`V_{d}`    | :math:`V \sin{\left(\delta - \theta \right)} - V_{d}`                                                                                                                          | Algeb    |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  vq    | :math:`V_{q}`    | :math:`V \cos{\left(\delta - \theta \right)} - V_{q}`                                                                                                                          | Algeb    |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  pm    | :math:`P_{m}`    | :math:`- P_{m} + P_{m0}`                                                                                                                                                       | Algeb    |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  pe    | :math:`P_{e}`    | :math:`- I_{d} \psi_q + I_{q} \psi_d - P_{e}`                                                                                                                                  | Algeb    |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  vf    | :math:`v_{f}`    | :math:`- v_{f} + v_{f0}`                                                                                                                                                       | Algeb    |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  psid  | :math:`\psi_d`   | :math:`- \psi_d + u \left(I_{q} r_{a} + V_{q}\right)`                                                                                                                          | Algeb    |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  psiq  | :math:`\psi_q`   | :math:`\psi_q + u \left(I_{d} r_{a} + V_{d}\right)`                                                                                                                            | Algeb    |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  a     | :math:`\theta`   | :math:`- u \left(I_{d} V_{d} + I_{q} V_{q}\right)`                                                                                                                             | ExtAlgeb |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
|  v     | :math:`V`        | :math:`- u \left(I_{d} V_{q} - I_{q} V_{d}\right)`                                                                                                                             | ExtAlgeb |
+--------+------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+

Services

+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|   Name   |       Symbol        |                                             Equation or Callback                                             |     Type     |
+==========+=====================+==============================================================================================================+==============+
|  _V      | :math:`V_c`         | :math:`V e^{i \theta}`                                                                                       | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  _S      | :math:`S`           | :math:`P_{0} - i Q_{0}`                                                                                      | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  _I      | :math:`I_c`         | :math:`\frac{S}{\operatorname{conj}{\left(V_{c} \right)}}`                                                   | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  _E      | :math:`E`           | :math:`I_{c} \left(r_{a} + i x_{q}\right) + V_{c}`                                                           | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  _deltac | :math:`\delta_c`    | :math:`\log{\left(\frac{E}{\operatorname{abs}{\left(E \right)}} \right)}`                                    | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  delta0  | :math:`\delta_0`    | :math:`u \operatorname{im}{\left(\delta_c\right)}`                                                           | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  vdq     | :math:`V_{dq}`      | :math:`V_{c} u e^{- \delta_c + 0.5 i \pi}`                                                                   | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  Idq     | :math:`I_{dq}`      | :math:`I_{c} u e^{- \delta_c + 0.5 i \pi}`                                                                   | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  Id0     | :math:`I_{d0}`      | :math:`\operatorname{re}{\left(I_{dq}\right)}`                                                               | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  Iq0     | :math:`I_{q0}`      | :math:`\operatorname{im}{\left(I_{dq}\right)}`                                                               | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  vd0     | :math:`V_{d0}`      | :math:`\operatorname{re}{\left(V_{dq}\right)}`                                                               | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  vq0     | :math:`V_{q0}`      | :math:`\operatorname{im}{\left(V_{dq}\right)}`                                                               | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  pm0     | :math:`P_{m0}`      | :math:`u \left(I_{d0} \left(I_{d0} r_{a} + V_{d0}\right) + I_{q0} \left(I_{q0} r_{a} + V_{q0}\right)\right)` | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  vf0     | :math:`v_{f0}`      | None                                                                                                         | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  gd1     | :math:`\gamma_{d1}` | :math:`\frac{x''_{d} - x_{l}}{x'_{d} - x_{l}}`                                                               | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  gq1     | :math:`\gamma_{q1}` | :math:`\frac{x''_{q} - x_{l}}{x'_{q} - x_{l}}`                                                               | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  gd2     | :math:`\gamma_{d2}` | :math:`\frac{- x''_{d} + x'_{d}}{\left(x'_{d} - x_{l}\right)^{2}}`                                           | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+
|  gq2     | :math:`\gamma_{q2}` | :math:`\frac{- x''_{q} + x'_{q}}{\left(x'_{q} - x_{l}\right)^{2}}`                                           | ConstService |
+----------+---------------------+--------------------------------------------------------------------------------------------------------------+--------------+


.. _TurbineGov:

================================================================================
TurbineGov
================================================================================
Turbine governor group for synchronous generator

Common Parameters: u, name

Common Variables: pout

Available models:
TG2_

.. _TG2:

--------------------------------------------------------------------------------
TG2
--------------------------------------------------------------------------------

Group TurbineGov_

Parameters

+--------+-----------------------+--------+-----------+------------------------------+---------+------------+
|  Name  |        Symbol         |  Unit  |   Type    |         Description          | Default | Properties |
+========+=======================+========+===========+==============================+=========+============+
|  u     | :math:`u`             | *bool* | NumParam  | connection status            | 1       |            |
+--------+-----------------------+--------+-----------+------------------------------+---------+------------+
|  name  | :math:`name`          |        | DataParam | device name                  |         |            |
+--------+-----------------------+--------+-----------+------------------------------+---------+------------+
|  syn   |                       |        | IdxParam  | Synchronous generator idx    |         | mandatory  |
+--------+-----------------------+--------+-----------+------------------------------+---------+------------+
|  R     | :math:`R`             | *pu*   | NumParam  | Speed regulation gain        | 0.050   |            |
+--------+-----------------------+--------+-----------+------------------------------+---------+------------+
|  pmax  | :math:`p_{max}`       | *pu*   | NumParam  | Maximum power output         | 999     | power      |
+--------+-----------------------+--------+-----------+------------------------------+---------+------------+
|  pmin  | :math:`p_{min}`       | *pu*   | NumParam  | Minimum power output         | 0       | power      |
+--------+-----------------------+--------+-----------+------------------------------+---------+------------+
|  wref0 | :math:`\omega_{ref0}` | *pu*   | NumParam  | Base speed reference         | 1       |            |
+--------+-----------------------+--------+-----------+------------------------------+---------+------------+
|  dbl   | :math:`L_{db}`        | *pu*   | NumParam  | Deadband lower limit         | -0.000  |            |
+--------+-----------------------+--------+-----------+------------------------------+---------+------------+
|  dbu   | :math:`U_{db}`        | *pu*   | NumParam  | Deadband upper limit         | 0.000   |            |
+--------+-----------------------+--------+-----------+------------------------------+---------+------------+
|  dbc   | :math:`C_{db}`        | *pu*   | NumParam  | Deadband neutral value       | 0       |            |
+--------+-----------------------+--------+-----------+------------------------------+---------+------------+
|  T1    |                       |        | NumParam  | Transient gain time          | 0.200   |            |
+--------+-----------------------+--------+-----------+------------------------------+---------+------------+
|  T2    |                       |        | NumParam  | Governor time constant       | 10      |            |
+--------+-----------------------+--------+-----------+------------------------------+---------+------------+
|  Sn    | :math:`S_m`           | *MVA*  | ExtParam  | Rated power from generator   |         |            |
+--------+-----------------------+--------+-----------+------------------------------+---------+------------+
|  Vn    | :math:`V_m`           | *kV*   | ExtParam  | Rated voltage from generator |         |            |
+--------+-----------------------+--------+-----------+------------------------------+---------+------------+

Variables

+------------+----------------------+------+-----------------------+------------+-----------------------------------------------------------------------+
|    Name    |        Symbol        | Unit |     Initial Value     | Properties |                              Description                              |
+============+======================+======+=======================+============+=======================================================================+
|  leadlag_x | :math:`x'^{leadlag}` |      | :math:`\omega_{dmG}`  | v_str      | State in lead-lag transfer function                                   |
+------------+----------------------+------+-----------------------+------------+-----------------------------------------------------------------------+
|  omega     | :math:`\omega`       |      |                       |            | Generator speed                                                       |
+------------+----------------------+------+-----------------------+------------+-----------------------------------------------------------------------+
|  pnl       | :math:`P_{nl}`       |      | :math:`p_{m0}`        | v_str      | Power output before hard limiter                                      |
+------------+----------------------+------+-----------------------+------------+-----------------------------------------------------------------------+
|  pout      | :math:`P_{out}`      |      | :math:`p_{m0}`        | v_str      | Turbine power output after limiter                                    |
+------------+----------------------+------+-----------------------+------------+-----------------------------------------------------------------------+
|  wref      | :math:`\omega_{ref}` |      | :math:`\omega_{ref0}` | v_str      | Speed referemce variable                                              |
+------------+----------------------+------+-----------------------+------------+-----------------------------------------------------------------------+
|  w_d       | :math:`\omega_{dev}` |      | :math:`0`             | v_str      | Generator speed deviation before dead band (positive for under speed) |
+------------+----------------------+------+-----------------------+------------+-----------------------------------------------------------------------+
|  w_dm      | :math:`\omega_{dm}`  |      | :math:`0`             | v_str      | Measured speed deviation after dead band                              |
+------------+----------------------+------+-----------------------+------------+-----------------------------------------------------------------------+
|  w_dmg     | :math:`\omega_{dmG}` |      | :math:`0`             | v_str      | Speed deviation after dead band after gain                            |
+------------+----------------------+------+-----------------------+------------+-----------------------------------------------------------------------+
|  leadlag_y | :math:`y^{leadlag}`  |      | :math:`\omega_{dmG}`  | v_str      | Output of lead-lag transfer function                                  |
+------------+----------------------+------+-----------------------+------------+-----------------------------------------------------------------------+
|  pm        | :math:`P_{m}`        |      |                       |            |                                                                       |
+------------+----------------------+------+-----------------------+------------+-----------------------------------------------------------------------+

Equations

+------------+----------------------+----------------------------------------------------------------------------------------------------------------------+----------+
|    Name    |        Symbol        |                                                Equation (x'=f or g=0)                                                |   Type   |
+============+======================+======================================================================================================================+==========+
|  leadlag_x | :math:`x'^{leadlag}` | :math:`\frac{\omega_{dmG} - x'^{leadlag}}{T_{2}}`                                                                    | State    |
+------------+----------------------+----------------------------------------------------------------------------------------------------------------------+----------+
|  omega     | :math:`\omega`       | :math:`0`                                                                                                            | ExtState |
+------------+----------------------+----------------------------------------------------------------------------------------------------------------------+----------+
|  pnl       | :math:`P_{nl}`       | :math:`- P_{nl} + p_{m0} + y^{leadlag}`                                                                              | Algeb    |
+------------+----------------------+----------------------------------------------------------------------------------------------------------------------+----------+
|  pout      | :math:`P_{out}`      | :math:`P_{nl} z_{i}^{plim} - P_{out} + p_{max} z_{u}^{plim} + p_{min} z_{l}^{plim}`                                  | Algeb    |
+------------+----------------------+----------------------------------------------------------------------------------------------------------------------+----------+
|  wref      | :math:`\omega_{ref}` | :math:`\omega_{ref0} - \omega_{ref}`                                                                                 | Algeb    |
+------------+----------------------+----------------------------------------------------------------------------------------------------------------------+----------+
|  w_d       | :math:`\omega_{dev}` | :math:`- \omega - \omega_{dev} + \omega_{ref}`                                                                       | Algeb    |
+------------+----------------------+----------------------------------------------------------------------------------------------------------------------+----------+
|  w_dm      | :math:`\omega_{dm}`  | :math:`L_{db} z_{lr}^{w_{db}} + U_{db} z_{ur}^{w_{db}} + \omega_{dev} \left(1 - z_{i}^{w_{db}}\right) - \omega_{dm}` | Algeb    |
+------------+----------------------+----------------------------------------------------------------------------------------------------------------------+----------+
|  w_dmg     | :math:`\omega_{dmG}` | :math:`G \omega_{dm} - \omega_{dmG}`                                                                                 | Algeb    |
+------------+----------------------+----------------------------------------------------------------------------------------------------------------------+----------+
|  leadlag_y | :math:`y^{leadlag}`  | :math:`\frac{T_{1} \left(\omega_{dmG} - x'^{leadlag}\right)}{T_{2}} + x'^{leadlag} - y^{leadlag}`                    | Algeb    |
+------------+----------------------+----------------------------------------------------------------------------------------------------------------------+----------+
|  pm        | :math:`P_{m}`        | :math:`u \left(P_{out} - p_{m0}\right)`                                                                              | ExtAlgeb |
+------------+----------------------+----------------------------------------------------------------------------------------------------------------------+----------+

Services

+-------+-------------+-----------------------------+--------------+
| Name  |   Symbol    |    Equation or Callback     |     Type     |
+=======+=============+=============================+==============+
|  T12  | :math:`T12` | :math:`\frac{T_{1}}{T_{2}}` | ConstService |
+-------+-------------+-----------------------------+--------------+
|  gain | :math:`G`   | :math:`\frac{u}{R}`         | ConstService |
+-------+-------------+-----------------------------+--------------+

Discrete Components

+-------+-------------+--------+-------------+-------------+
| Name  |    Type     | Output | Upper Bound | Lower Bound |
+=======+=============+========+=============+=============+
|  w_db | DeadBand    |        | dbu         | dbl         |
+-------+-------------+--------+-------------+-------------+
|  plim | HardLimiter |        | pmax        | pmin        |
+-------+-------------+--------+-------------+-------------+


.. _Undefined:

================================================================================
Undefined
================================================================================
Common Parameters: u, name

Available models:
Area_,
Toggler_

.. _Area:

--------------------------------------------------------------------------------
Area
--------------------------------------------------------------------------------

Group Undefined_

Parameters

+-------------+--------------+--------+-----------+-------------------+---------+------------+
|    Name     |    Symbol    |  Unit  |   Type    |    Description    | Default | Properties |
+=============+==============+========+===========+===================+=========+============+
|  u          | :math:`u`    | *bool* | NumParam  | connection status | 1       |            |
+-------------+--------------+--------+-----------+-------------------+---------+------------+
|  name       | :math:`name` |        | DataParam | device name       |         |            |
+-------------+--------------+--------+-----------+-------------------+---------+------------+
|  Bus        |              |        | RefParam  |                   |         |            |
+-------------+--------------+--------+-----------+-------------------+---------+------------+
|  ACTopology |              |        | RefParam  |                   |         |            |
+-------------+--------------+--------+-----------+-------------------+---------+------------+
|  Vn         |              |        | ExtParam  |                   |         |            |
+-------------+--------------+--------+-----------+-------------------+---------+------------+

Variables

+------+-----------+------+---------------+------------+-------------+
| Name |  Symbol   | Unit | Initial Value | Properties | Description |
+======+===========+======+===============+============+=============+
|  a   | :math:`a` |      |               |            |             |
+------+-----------+------+---------------+------------+-------------+
|  v   | :math:`v` |      |               |            |             |
+------+-----------+------+---------------+------------+-------------+

Equations

+------+-----------+------------------------+----------+
| Name |  Symbol   | Equation (x'=f or g=0) |   Type   |
+======+===========+========================+==========+
|  a   | :math:`a` | :math:`0`              | ExtAlgeb |
+------+-----------+------------------------+----------+
|  v   | :math:`v` | :math:`0`              | ExtAlgeb |
+------+-----------+------------------------+----------+


.. _Toggler:

--------------------------------------------------------------------------------
Toggler
--------------------------------------------------------------------------------

Group Undefined_

Parameters

+--------+--------------+--------+------------+----------------------------------------------+---------+------------+
|  Name  |    Symbol    |  Unit  |    Type    |                 Description                  | Default | Properties |
+========+==============+========+============+==============================================+=========+============+
|  u     | :math:`u`    | *bool* | NumParam   | connection status                            | 1       |            |
+--------+--------------+--------+------------+----------------------------------------------+---------+------------+
|  name  | :math:`name` |        | DataParam  | device name                                  |         |            |
+--------+--------------+--------+------------+----------------------------------------------+---------+------------+
|  model |              |        | DataParam  | Model or Group of the device with this timer |         | mandatory  |
+--------+--------------+--------+------------+----------------------------------------------+---------+------------+
|  dev   |              |        | IdxParam   | Idx of the device with this timer            |         | mandatory  |
+--------+--------------+--------+------------+----------------------------------------------+---------+------------+
|  t     |              |        | TimerParam | switch time for connection status            | -1      | mandatory  |
+--------+--------------+--------+------------+----------------------------------------------+---------+------------+


